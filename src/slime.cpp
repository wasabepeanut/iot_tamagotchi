#include "slime.h"

const uint64_t slimeBody[52] = {
  0b0000000000000000000000000111111111100000000000000000000000000,
  0b0000000000000000000000000111111111100000000000000000000000000,
  0b0000000000000000000000000111111111100000000000000000000000000,
  0b0000000000000000000000000111111111100000000000000000000000000,
  0b0000000000000000000000000111111111100000000000000000000000000,
  0b0000000000000000000011111000000000011111000000000000000000000,
  0b0000000000000000000011111000000000011111000000000000000000000,
  0b0000000000000000000011111000000000011111000000000000000000000,
  0b0000000000000000000011111000000000011111000000000000000000000,
  0b0000000000000000000011111000000000011111000000000000000000000,
  0b0000000000000001111100000000000000000000111110000000000000000,
  0b0000000000000001111100000000000000000000111110000000000000000,
  0b0000000000000001111100000000000000000000111110000000000000000,
  0b0000000000000001111100000000000000000000111110000000000000000,
  0b0000000000000001111100000000000000000000111110000000000000000,
  0b0000000000111110000000000000000000000000000001111100000000000,
  0b0000000000111110000000000000000000000000000001111100000000000,
  0b0000000000111110000000000000000000000000000001111100000000000,
  0b0000000000111110000000000000000000000000000001111100000000000,
  0b0000000000111110000000000000000000000000000001111100000000000,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b1111100000000000000000000000000000000000000000000000000011110,
  0b1111100000000000000000000000000000000000000000000000000011110,
  0b1111100000000001111000000000000000000000011110000000000011110,
  0b1111100000000001111000000000000000000000011110000000000011110,
  0b1111100000000001111000000000000000000000011110000000000011110,
  0b1111100000000001111000000000000000000000011110000000000011110,
  0b1111100000000000000011111111111111111111000000000000000011110,
  0b1111100000000000000011111111111111111111000000000000000011110,
  0b1111100000000000000011111111111111111111000000000000000011110,
  0b1111100000000000000011111111111111111111000000000000000011110,
  0b1111100000000000000000000000000000000000000000000000000011110,
  0b1111100000000000000000000000000000000000000000000000000011110,
  0b1111100000000000000000000000000000000000000000000000000011110,
  0b1111100000000000000000000000000000000000000000000000000011110,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b0000011111000000000000000000000000000000000000000011111000000,
  0b0000000000111110000000000000000000000000000001111100000000000,
  0b0000000000111110000000000000000000000000000001111100000000000,
  0b0000000000111111111111111111111111111111111111111100000000000,
  0b0000000000111111111111111111111111111111111111111100000000000,
  0b0000000000111111111111111111111111111111111111111100000000000,
  0b0000000000000001111111111111111111111111111110000000000000000,
  0b0000000000000001111111111111111111111111111110000000000000000
};


// --- Helper: Draw scaled pixel block ---
static inline void drawBlock(int x, int y, uint16_t color, int scale = SLIME_SCALE) {
    for (int dy = 0; dy < scale; dy++) {
        for (int dx = 0; dx < scale; dx++) {
            tft.drawPixel(x + dx, y + dy, color);
        }
    }
}

// --- Draw slime pixel art centered ---
void slimeDraw(uint16_t color) {
    int scaledWidth = SLIME_WIDTH * SLIME_SCALE;
    int scaledHeight = SLIME_HEIGHT * SLIME_SCALE;
    int startX = (SCREEN_WIDTH - scaledWidth) / 2;
    int startY = (SCREEN_HEIGHT - scaledHeight) / 2 + SLIME_OFFSET_Y;

    for (int y = 0; y < SLIME_HEIGHT; y++) {
        for (int x = 0; x < SLIME_WIDTH; x++) {
            if (slimeBody[y] & (1ULL << (SLIME_WIDTH - 1 - x))) {
                drawBlock(startX + x * SLIME_SCALE, startY + y * SLIME_SCALE, color, SLIME_SCALE);
            }
        }
    }
}